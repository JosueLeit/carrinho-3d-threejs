<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test</title>
    <style>
        body { margin: 0; background: #000; color: white; font-family: Arial, sans-serif; padding: 20px; }
        #log { background: #333; padding: 10px; margin: 10px 0; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>Debug Test</h1>
    <div id="log"></div>
    
    <script type="module">
        const log = document.getElementById('log');
        
        function addLog(message, type = 'info') {
            const div = document.createElement('div');
            div.style.color = type === 'error' ? '#ff6b6b' : type === 'success' ? '#51cf66' : '#74c0fc';
            div.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            log.appendChild(div);
            console.log(message);
        }
        
        addLog('Starting debug test...');
        
        try {
            addLog('Testing THREE.js import...');
            const THREE = await import('three');
            addLog('THREE.js imported successfully', 'success');
            addLog(`THREE.js version: ${THREE.REVISION}`, 'success');
            
            addLog('Testing CANNON.js import...');
            const CANNON = await import('cannon-es');
            addLog('CANNON.js imported successfully', 'success');
            
            addLog('Testing OrbitControls import...');
            const { OrbitControls } = await import('three/examples/jsm/controls/OrbitControls.js');
            addLog('OrbitControls imported successfully', 'success');
            
            addLog('Testing local modules...');
            const { DebugSystem } = await import('./js/debug.js');
            addLog('DebugSystem imported successfully', 'success');
            
            const { PhysicsWorld } = await import('./js/physics.js');
            addLog('PhysicsWorld imported successfully', 'success');
            
            // Test creating basic objects
            addLog('Creating basic THREE.js objects...');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer();
            
            addLog('Basic THREE.js objects created successfully', 'success');
            
            // Test creating physics world
            addLog('Creating physics world...');
            const debug = new DebugSystem();
            const physics = new PhysicsWorld(debug);
            
            addLog('Physics world created successfully', 'success');
            
            addLog('All imports and basic initialization successful!', 'success');
            
        } catch (error) {
            addLog(`Error: ${error.message}`, 'error');
            addLog(`Stack: ${error.stack}`, 'error');
            console.error('Full error:', error);
        }
    </script>
</body>
</html>